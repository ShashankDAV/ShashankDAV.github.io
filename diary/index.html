<style>
      #close {
            height: 80;
            width: 80;
            margin-left: 90%;
      }
      
      .search {
            display: flex;
            width: 100%;
            border: 5px solid orange;
            border-radius: 75px;
            overflow: hidden;
            height: 100px;
            margin: 0;
      }
      
      .search_img {
            height: 75;
            margin: 13 -80;
            margin-left: 5;
      }
      
      .question {
            margin-left: 30;
            border: none;
            outline: none;
            font-size: 60;
            height: 100px;
            background: transparent;
            color: black;
            width: 77%;
      }
      
      #calen-1 {
            background: url("https://shashankdav.github.io/calender/5.jpg");
            border: 6px solid;
            padding: 10;
            border-radius: 15px;
            height: 250;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
      }
      #calen-2 {
            background: url("https://shashankdav.github.io/calender/4.jpg");
            border: 6px solid;
            padding: 10;
            border-radius: 15px;
            height: 250;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
      }
      #calen-3 {
            background: url("https://shashankdav.github.io/calender/6.jpg");
            border: 6px solid;
            padding: 10;
            border-radius: 15px;
            height: 250;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
      }
      #calen-4 {
            background: url("https://shashankdav.github.io/calender/1.jpg");
            border: 6px solid;
            padding: 10;
            border-radius: 15px;
            height: 250;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 5px;
      }
      #date {
            font-size: 100;
      }
      
      .save {
            margin: 20;
            padding: 20;
            background: rgb(1,200,250);
            border-radius: 5px;
            position: fixed;
            top: -101%;
            transition: all 1s;
      }
      
      #txt {
            margin-top: 10;
            padding: 10px;
            width: 100%;
            height: 350;
            font-size: 60;
            font-family: Monospace;
            border-radius: 15px;
            border: none;
            outline: none;
            background: white;
      }
      
      #bu {
            margin-top: 10;
            background: green;
            border-radius: 15px;
            font-size: 65;
            margin-left: 83%;
            outline: none;
            border: none;
      }
      
      #da {
            width: 53%;
            font-size: 60;
            border-radius: 15px;
            border: 5px solid;
            background: white;
            outline: none;
            margin-top: 10;
      }
      
      label {
            font-size: 60;
      }
      
      #plus {
            font-size: 140;
            position: relative;
            top: -35;
            right: -90;
      }
      
</style>

<body>
      <div class="search">
            <input class="question" placeholder="Search..." onkeyup="srch(this.value.toLowerCase())">
            <img class="search_img" src="https://shashankdav.github.io/search.png" alt="O">
            <div id="plus" onclick="diary()">+</div>
      </div>
      <div class="save">
      <div onclick="clse()"><img id="close" src="https://shashankdav.github.io/x.png" alt="oo"></div>
      <div>
      <label for="da">Select Date:</label>
      <input id="da" type="date" placeholder="Select Date">
      </div>
      <textarea id="txt" placeholder="Write Diary..."></textarea>
      <button id="bu" onclick="add(document.querySelector('#txt').value)">Save</button> 
      </div>
</body>

<script>
      function save(key,value){
      localStorage.setItem(key,value);
      }
      function geet(key){
            var value = localStorage.getItem(key);
            return value;
      }

      views = geet("v");
      new_view = "";
      alert(views);
      
      function sote(str,index,chr) {
            if(index > str.length-1) return str;
            return str.substring(0,index) + chr + str.substring(index+1);
}
      
      function add(x){
            x = x + "∆";
            x = x.toString();
            if (x==" ") {
                  console.log("Enter Views");
            }
            else if (x=="shashankdav-admin-clear∆") {
                  save("v","");
                  window.location.reload()
            }
            else {
                dae = document.querySelector("#da").value;
                new_view = new_view + " " + dae + ":-" + x;
                if (views.includes('\\')){
                      for (let i=0;i<views.length;i++) {
                             if (views.includes('\\')){
                                   xp = views.indexOf('\\');
                                   gg = views;
                                   views = sote(gg,xp,"")
                             }
                        }
                }
                final_view = views + new_view;
                save("v",JSON.stringify(final_view));
                alert("Saved");
                window.location.reload()
            }
      }
      
      function show() {
            let op = 0;
            let xx = JSON.parse(geet("v"));
            var xy = xx.split("∆");
            for (let i=0;i<xy.length;i++){
                       let div = document.createElement("div");
                       let h1 = document.createElement("h1");
                       let h2 = document.createElement("h1");
                       div.className = "calen";
                       h1.innerHTML = xy[i];
                      // zyx = xy[i].split(":");
                     //  h2.
                       if (h1.innerHTML == "" ){
                             op = 2;
                       }
                       else if (h1.innerHTML == "" ){
                             op = 2;
                       }
                      //**********************************************************************
                      
                      if (h1.innerHTML.includes('\\')){
                             for (let i=0;i<xy[i].length;i++) {
                             if (h1.innerHTML.includes('\\')){
                                   xp = h1.innerHTML.indexOf('\\');
                                   gg = h1.innerHTML;
                                   gg[xp] = " ";
                                   h1.innerHTML = sote(gg,xp,"")
                             }
                             }
                             var ran = Math.floor(Math.random() * 4);
                       if (ran==1) {
                             div.id="calen-1";
                       }
                       else if (ran==2) {
                             div.id="calen-2";
                       }
                       else if (ran==3) {
                             div.id = "calen-3";
                       }
                       else {
                             div.id="calen-4";
                       }
                       div.appendChild(h1);
                       document.querySelector("body").appendChild(div);
                 }      
                       
                      //**********************************************************************
                       if (h1.innerHTML.includes('"')){
                             for (let i=0;i<xy[i].length;i++) {
                             if (h1.innerHTML.includes('"')){
                                   xp = h1.innerHTML.indexOf('"');
                                   gg = h1.innerHTML;
                                   gg[xp] = " ";
                                   h1.innerHTML = sote(gg,xp,"")
                             }
                             }
                             var ran = Math.floor(Math.random() * 4);
                       if (ran==1) {
                             div.id="calen-1";
                       }
                       else if (ran==2) {
                             div.id="calen-2";
                       }
                       else if (ran==3) {
                             div.id = "calen-3";
                       }
                       else {
                             div.id="calen-4";
                       }
                       div.appendChild(h1);
                       document.querySelector("body").appendChild(div);
                       }
                      //**********************************************************************
                      else if (h1.innerHTML.includes(null)){
                             op = 4;
                       }
                       else if (h1.innerHTML == ":-"){
                             op = 6;
                       }
                       else{
                       var ran = Math.floor(Math.random() * 4);
                       if (ran==1) {
                             div.id="calen-1";
                       }
                       else if (ran==2) {
                             div.id="calen-2";
                       }
                       else if (ran==3) {
                             div.id = "calen-3";
                       }
                       else {
                             div.id="calen-4";
                       }
                       div.appendChild(h1);
                       document.querySelector("body").appendChild(div);
                       }
            }
      }
      
      function srch(x) {
            var y = document.querySelectorAll(".calen")
            
            for (let i=0;i<y.length;i++) {
                  var z = y[i].innerHTML.toLowerCase();
                  if (z.includes(x)) {
                        y[i].style.display = "";
                  }
                  else {
                        y[i].style.display = "none";
                  }
            }
      }
      
      function diary() {
            document.querySelector(".save").style.top = "550";
      }
      
      function clse() {
            document.querySelector(".save").style.top = "-101%";
      }     
      
      window.addEventListener("scroll",show())
      
</script>
